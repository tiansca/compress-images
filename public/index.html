<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>图片压缩</title>
  <!--ico-->
  <link rel="icon" href="/favicon.png"></link>
  <link rel="stylesheet" href="stylesheets/style.css">
  <meta name="keys" content="图片压缩,图片格式转换,图片尺寸修改,在线压缩">
  <meta name="description" content="图片压缩，格式转换，尺寸修改"></meta>
</head>
<body>
  <h2 style="text-align: center">图片压缩，格式转换，尺寸修改</h2>
  <div id="upload-box">
    <span>点击上传, 支持 JPEG, PNG, WebP, GIF, AVIF, TIFF, BMP, 和 SVG 格式图片, BMP 和 SVG 默认生成 PNG 格式。每次最多上传 20 张, 每张不能超过 10MB。</span>
  </div>
<div class="option-box">
  <div class="option-row">
    <span class="label">压缩系数：</span>
    <input type="range" min="0" max="100" value="70" class="range" id="quality"></input>
    <output id="quality-value">70</output>
  </div>
  <div class="option-row">
    <span class="label">输出宽度：</span>
    <input id="width" type="number" min="0"></input>
    <span class="label">输出高度：</span>
    <input id="height" type="number" min="0"></input>
  </div>
  <div class="option-row">
    <span class="label">输出格式：</span>
    <select id="format">
      <option value="">原图格式</option>
      <option value="png">PNG</option>
      <option value="jpg">JPG</option>
      <option value="jpeg">JPEG</option>
      <option value="webp">WEBP</option>
      <option value="avif">AVIF</option>
      <option value="tiff">TIFF</option>
      <option value="gif">GIF</option>
    </select>
    <span class="label">旋转角度：</span>
    <input id="rotate" type="number" value="0"></input>
  </div>
  <div class="option-row" style="margin-bottom: -12px">
    <span class="label">GIF系数：</span>
  </div>
  <div class="option-row gif">
<!--    <span class="label">colors</span>-->
<!--    <input id="colors" type="number" min="2" max="256" value="256"></input>-->
    <span class="label" style="margin-left: -8px">colours</span>
    <input type="number" min="2" max="256" value="256" id="colours">
    <span style="color: #666;font-size: 12px;margin-left: 20px">此行配置仅针对GIF压缩有效</span>
  </div>
</div>
<div id="file-list" class="hidden">
  <div class="file-item hidden">
    <span class="file-name disable"></span>
    <span class="file-size"></span>
    <div class="file-status">
      <div class="file-progress">
        <div class="file-progress-bar" style="width: 0%"></div>
      </div>
      <span class="file-status-text">上传中</span>
    </div>
    <span class="compressed-size">-</span>
    <span class="ratio">-</span>
    <span class="download-button disable">下载</span>
  </div>
</div>
<div class="download-all-wrap hidden">
  <div class="download-all">下载全部</div>
</div>
<div class="note">
  <div class="desc-container"><p class="desc-itm"><strong>图片辅助工具使用须知</strong></p><p class="desc-itm">可以设置压缩系数(默认70), 转化后图片的宽高, 格式等, <b>不填写默认是原图的尺寸和格式</b>。</p><p class="desc-itm">设置的参数是针对每个批次选择的所有图片, 单个图片个性化转化请单个上传设置。</p><p class="desc-itm">宽高如果只传递了一个参数, 另一个会自动适用, 如果传递了两个参数, 会按照给定的比例进行处理。</p><p class="desc-itm">GIF图片设置压缩系数不会生效, 需设置GIF系数, 具体数值自行调试, <strong>GIF压缩</strong>较慢, 请耐心等待。</p><p class="desc-itm">如果转换前后图片格式有变化, 图片可能变大, 比如由<strong>WEBP转为PNG</strong>, 图片一般会变大, 请知悉。</p><p> <a href="./apidoc.html" target="_blank">接口文档</a></p></div>
</div>
<input type="file" multiple id="file-upload" accept="image/*"  style="display: none"/>
<svg class="success-icon" style="display: none" viewBox="64 64 896 896" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg>
</body>
<script src="javascripts/preview-image-js.js"></script>
<script src="javascripts/index.js"></script>
</html>